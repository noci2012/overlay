diff --git a/chromiumcontent/BUILD.gn b/chromiumcontent/BUILD.gn
index 1ae99bb..9ccb7b8 100644
--- a/chromiumcontent/BUILD.gn
+++ b/chromiumcontent/BUILD.gn
@@ -345,12 +345,8 @@ if (is_electron_build && !is_component_build) {
     }
   }
 
-  static_library("v8") {
-    complete_static_lib = true
-    sources = []
-    if (defined(obj_v8)) {
-      sources += obj_v8
-    }
+  shared_library("v8") {
+    deps = [ "//v8:v8", "//v8:v8_libplatform" ]
   }
 
 } else {
diff --git a/chromiumcontent/build_libs.py b/chromiumcontent/build_libs.py
index fbf02d6..eddb17f 100644
--- a/chromiumcontent/build_libs.py
+++ b/chromiumcontent/build_libs.py
@@ -89,7 +89,7 @@ with open(args.out, 'w') as out:
             "third_party/usrsctp",
             "third_party/woff2",
             "third_party/zlib",
-            "tools",
+            "tools/battor_agent",
             "ui",
             "url",
         ] + additional_libchromiumcontent)
diff --git a/script/create-dist b/script/create-dist
index ef6fa99..1ba72e6 100755
--- a/script/create-dist
+++ b/script/create-dist
@@ -58,7 +58,6 @@ COMPONENTS = ['static_library', 'shared_library']
 BINARIES = {
   'all': [
     'content_shell.pak',
-    'icudtl.dat',
     'natives_blob.bin',
     'snapshot_blob.bin',
     os.path.join('gen', 'blink', 'public', 'resources', 'blink_image_resources_200_percent.pak'),
@@ -72,7 +71,6 @@ BINARIES = {
     'libffmpeg.dylib',
   ],
   'linux': [
-    'libffmpeg.so',
   ],
   'win32': [
     'd3dcompiler_47.dll',
@@ -381,8 +379,6 @@ def generate_ninja(args, ninja):
       copy_generated_sources(target_arch, component, ninja)
       copy_locales(target_arch, component, ninja)
 
-  copy_ffmpeg(target_arch, ninja)
-  copy_sources(ninja)
   generate_licenses(ninja)
 
 
@@ -614,6 +610,7 @@ def link_binary_to_debug_file(objcopy, binfile, symfile, dirname, env):
 def run_strip(target_arch, filename, create_debug_archive):
   # Static libraries are not stripped because it would remove
   # all the symbols in it.
+  return
   if filename.endswith('.a'):
     return
 
@@ -713,6 +710,17 @@ def rm_rf(path):
       raise
 
 
+def link_or_copy(src, dst):
+  if os.path.isfile(src):
+    if os.path.isdir(dst):
+      dst = os.path.join(dst, os.path.basename(src))
+    try:
+      os.link(src, dst)
+    except OSError:
+      shutil.copy2(src, dst)
+  else:
+    shutil.copy2(src, dst)
+
 def safe_unlink(path):
   try:
     os.unlink(path)
diff --git a/script/lib/config.py b/script/lib/config.py
index 3455161..195b2a1 100644
--- a/script/lib/config.py
+++ b/script/lib/config.py
@@ -4,4 +4,4 @@ import os
 
 
 def get_output_dir(source_root, target_arch, component):
-  return os.path.join(source_root, 'src', 'out-' + target_arch, component)
+  return os.environ.get('CHROMIUM_BUILD_DIR')
